# セキュアストレージ

## <u>セキュアストレージの必要性</u>
slider のプログラムや重要な設定値などは、PC からは **見えない** EXT4 領域に格納されています

<img src="pic/ss.2016-12-16 15.07.40.png" width="60%">

** 見えない** というのは単にこのファイルシステムを理解する能力を **通常の PC が備えていない** 、というだけで、以下のような方法で EXT4 の領域を読むことができます
- Linux が動いている PC（Raspberry Pi を含む）に挿入し、SDカードを適当な領域にマウント  
- PC に ext4 ファイルシステムのドライバをインストール

##<u> セキュアストレージの仕組み</u>
slider では、下記の領域はセキュアストレージとして暗号化したファイルシステムになっています

- /home/pi/SCRIPT: 通常のアプリケーションの保存場所
- /var/www/html/SCRIPT: Web アプリケーションの保存場所

これらの領域は暗号化されており、slider の起動時に復号化して利用するため、SD カードが盗難にあっても中身をコピーされる心配が少なくなっています

##<u> セキュアストレージの注意</u>
1. slider のパスワードの取扱：
セキュアストレージは slider が起動していない状態の SD カードを保護しています。slider の起動中は復号化されているので、悪意の第三者に[slider へのログイン](login.md) が行われてしまうと意味がありません  
slider のパスワードを盗まれないようにする運用の注意が必要です
2. カジュアルハッキング対策が限度：  
情報の寿命（価値を持つ時間）が暗号の攻撃に必要な時間より短い時のみ、暗号ソフトウェアによる防御の意味をもちません。明日、どこかで悪いことをするという情報の暗号を解読するのに最高のコンピュータをつかっても一週間かかるのなら悪人は安心して悪いことの計画をたてられます。
逆に情報の寿命が永遠であるような情報、例えば **カード番号** や **個人情報** 等、攻撃に何日も何ヶ月もかけてもいつまでかかってもいいので破ることができれば成功であるような情報に必要な暗号強度も無限大になってしまい、 **論理的に妥当な暗号強度は存在しません**  
ソフトウェアによる暗号化と難読化は常にカジュアルハッキングを防ぐ目的にしか使えず、重要な情報の保護には **ハードウェアサポート** が本手である事をまず理解してください    
ハードウェアサポートがコスト等の目的で使えない場合の事前策で、少しネガティブな表現になりますが「ないよりはマシ」という事実を認識した上で、それでも実際のハードウェアサポートに係るコストと、「ないよりマシ」でどの程度の試みがブロックできるのかのトレードオフで利用を検討していただければと考えます  
参考までに、スマートフォン等で使われる有料動画のガードや、ミサイル等の武器の制御ソフトのガードに暗号化と難読化が使われる例が多く知られてていますが、金融資産情報の保護に利用する例はあまり聞きません
